.identity-upsell-button-with-proxy {
    display: flex;
    align-items: center;
    .identity-upsell-button-with-proxy__proxy {
        @include fs-textSans(5);
        color: $brightness-20;
        padding-left: $gs-gutter;
        &.identity-upsell-button-with-proxy__proxy--success {
            color: $green-bold;
            font-weight: 600;
        }
    }
}

.identity-upsell-checkbox {
    padding-left: $gs-gutter * 1.5;
    position: relative;
    display: block;

    & + .identity-upsell-checkbox {
        margin-top: $gs-baseline;
    }

    input[type=checkbox] {
        @include u-h();
    }

    .identity-upsell-checkbox__title {
        @include fs-textSans(5);
        display: block;
    }

    .identity-upsell-checkbox__checkmark {
        width: $gs-gutter - 2px;
        height: $gs-gutter - 2px;
        position: absolute;
        top: 0;
        left: 0;
        transition: all .2s ease-in-out;
        border: 1px solid $brightness-86;
        background: $brightness-100 center no-repeat;
    }

    input[type=checkbox]:checked + .identity-upsell-checkbox__checkmark {
        background-color: $green-light;
        border-color: $green-light;
        background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210.79%22%20height%3D%228.61%22%20viewBox%3D%220%200%2010.79%208.608%22%3E%3Cpath%20fill%3D%22%23fff%22%20d%3D%22M3%206.58l7.23-6.58.55.53-7.78%208.07h-.27l-2.73-3.8.55-.56%202.44%202.33z%22%2F%3E%3C%2Fsvg%3E');
    }

    &:hover .identity-upsell-checkbox__checkmark {
        box-shadow: 0 0 0 3px $brightness-93;
    }

    input[type=checkbox]:focus + .identity-upsell-checkbox__checkmark {
        box-shadow: 0 0 0 3px $brightness-93;
    }

}

.identity-upsell-optouts {
    background-color: $brightness-97;
    border: 1px solid $brightness-86;
}

.identity-upsell-optouts--closed {
    background-color: $brightness-100;
}

.identity-upsell-optouts-expanded {
    margin: $gs-gutter / 2;
}

.identity-upsell-follow-button-wrap {
    position: relative;
    display: table;
    .identity-upsell-follow-button-wrap__button {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        &.identity-upsell-follow-button-wrap__button--longer {
            position: relative;
        }
    }
    .identity-upsell-follow-button-wrap__button--hoverable {
        will-change: opacity;
        transition: none !important;
        @media not all and (hover: none) {
            opacity: 0;
        }
    }
    &:not(.identity-upsell-follow-button-wrap--blocked):hover {
        .identity-upsell-follow-button-wrap__button--hoverable {
            opacity: 1;
        }
    }
}
